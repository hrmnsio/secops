<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="SecOps.cc is an information security platform designed to cover various offensive & defensive security topics"><meta name=author content=dh><link href=https://secops.cc/ptpf/starting_tunnels/ rel=canonical><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.1.4"><title>Starting Tunnels - SecOps.cc</title><link rel=stylesheet href=../../assets/stylesheets/main.bb3983ee.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.e6a45f82.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ssh-local-port-forwarding class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=SecOps.cc class="md-header__button md-logo" aria-label=SecOps.cc data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SecOps.cc </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Starting Tunnels </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hrmnsio/SecOps title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hrmnsio/SecOps </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../docs/ class="md-tabs__link md-tabs__link--active"> Docs </a> </li> <li class=md-tabs__item> <a href=../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=SecOps.cc class="md-nav__button md-logo" aria-label=SecOps.cc data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> SecOps.cc </label> <div class=md-nav__source> <a href=https://github.com/hrmnsio/SecOps title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hrmnsio/SecOps </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../docs/ >Docs</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Docs data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Cheatsheets <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cheatsheets data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Cheatsheets </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2_1 type=checkbox id=__nav_2_2_1> <label class=md-nav__link for=__nav_2_2_1> Pentesting/CTF <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Pentesting/CTF data-md-level=3> <label class=md-nav__title for=__nav_2_2_1> <span class="md-nav__icon md-icon"></span> Pentesting/CTF </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cheat_sheets/cheatsheet-77/ class=md-nav__link> Commands </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/linux_shortcuts/ class=md-nav__link> Linux Shortcuts </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/windows/ class=md-nav__link> Windows </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/shells_payloads/ class=md-nav__link> Shells & Payloads </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/web_requests/ class=md-nav__link> Web requests </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/deobfuscation/ class=md-nav__link> (De)Obfuscation </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/brute_forcing/ class=md-nav__link> Brute Forcing </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/common_apps/ class=md-nav__link> Common Applications </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/web_attacks/ class=md-nav__link> Web Attacks </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/file_transfer/ class=md-nav__link> File Transfer </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/win_privesc/ class=md-nav__link> Windows Privilege Escalation </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/footprinting/ class=md-nav__link> Footprinting </a> </li> <li class=md-nav__item> <a href=../../cheat_sheets/cheatsheet_ptpf/ class=md-nav__link> Pivoting, Tunnel, Port Forwarding </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2_2 type=checkbox id=__nav_2_2_2> <label class=md-nav__link for=__nav_2_2_2> Active Directory <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Active Directory" data-md-level=3> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> Active Directory </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cheat_sheets/cheatsheet_aid/ class=md-nav__link> IAD </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> Active Directory <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Active Directory" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Active Directory </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3_1 type=checkbox id=__nav_2_3_1> <label class=md-nav__link for=__nav_2_3_1> Intro <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Intro data-md-level=3> <label class=md-nav__title for=__nav_2_3_1> <span class="md-nav__icon md-icon"></span> Intro </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../active_directory/ad_fundamentals/ class=md-nav__link> Fundamentals </a> </li> <li class=md-nav__item> <a href=../../active_directory/ad_protocols/ class=md-nav__link> Protocols </a> </li> <li class=md-nav__item> <a href=../../active_directory/ad_users/ class=md-nav__link> All About Users </a> </li> <li class=md-nav__item> <a href=../../active_directory/ad_security/ class=md-nav__link> Security in Active Directory </a> </li> <li class=md-nav__item> <a href=../../active_directory/ad_gpo/ class=md-nav__link> Group Policy </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4 checked> <label class=md-nav__link for=__nav_2_4> Red Team <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Red Team" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Red Team </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_1 type=checkbox id=__nav_2_4_1> <label class=md-nav__link for=__nav_2_4_1> Footprinting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Footprinting data-md-level=3> <label class=md-nav__title for=__nav_2_4_1> <span class="md-nav__icon md-icon"></span> Footprinting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../footprinting/domain_information/ class=md-nav__link> Domain Information </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_1_2 type=checkbox id=__nav_2_4_1_2> <label class=md-nav__link for=__nav_2_4_1_2> Host Based Enumeration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Host Based Enumeration" data-md-level=4> <label class=md-nav__title for=__nav_2_4_1_2> <span class="md-nav__icon md-icon"></span> Host Based Enumeration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../footprinting/ftp/ class=md-nav__link> FTP </a> </li> <li class=md-nav__item> <a href=../../footprinting/smb/ class=md-nav__link> SMB </a> </li> <li class=md-nav__item> <a href=../../footprinting/nfs/ class=md-nav__link> NFS </a> </li> <li class=md-nav__item> <a href=../../footprinting/dns/ class=md-nav__link> DNS </a> </li> <li class=md-nav__item> <a href=../../footprinting/smtp/ class=md-nav__link> SMTP </a> </li> <li class=md-nav__item> <a href=../../footprinting/imap_pop3/ class=md-nav__link> IMAP/POP3 </a> </li> <li class=md-nav__item> <a href=../../footprinting/snmp/ class=md-nav__link> SNMP </a> </li> <li class=md-nav__item> <a href=../../footprinting/mysql/ class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../footprinting/mssql/ class=md-nav__link> MSSQL </a> </li> <li class=md-nav__item> <a href=../../footprinting/ipmi/ class=md-nav__link> IPMI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_1_3 type=checkbox id=__nav_2_4_1_3> <label class=md-nav__link for=__nav_2_4_1_3> Remote Management Protocols <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Remote Management Protocols" data-md-level=4> <label class=md-nav__title for=__nav_2_4_1_3> <span class="md-nav__icon md-icon"></span> Remote Management Protocols </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../footprinting/linux_remote_management_protocol/ class=md-nav__link> Linux </a> </li> <li class=md-nav__item> <a href=../../footprinting/windows_remote_management_protocol/ class=md-nav__link> Windows </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_2 type=checkbox id=__nav_2_4_2> <label class=md-nav__link for=__nav_2_4_2> OS Basics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="OS Basics" data-md-level=3> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> OS Basics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_2_1 type=checkbox id=__nav_2_4_2_1> <label class=md-nav__link for=__nav_2_4_2_1> Basics Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Basics Linux" data-md-level=4> <label class=md-nav__title for=__nav_2_4_2_1> <span class="md-nav__icon md-icon"></span> Basics Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../basics_linux/linux/ class=md-nav__link> Linux </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_2_2 type=checkbox id=__nav_2_4_2_2> <label class=md-nav__link for=__nav_2_4_2_2> Basics Windows <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Basics Windows" data-md-level=4> <label class=md-nav__title for=__nav_2_4_2_2> <span class="md-nav__icon md-icon"></span> Basics Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../basics_windows/windows/ class=md-nav__link> Windows </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_3 type=checkbox id=__nav_2_4_3 checked> <label class=md-nav__link for=__nav_2_4_3> Pivoting, Tunneling, Port Forwarding <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Pivoting, Tunneling, Port Forwarding" data-md-level=3> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> Pivoting, Tunneling, Port Forwarding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../basics/ class=md-nav__link> Basics </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Starting Tunnels <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Starting Tunnels </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ssh-local-port-forwarding class=md-nav__link> SSH Local Port Forwarding </a> </li> <li class=md-nav__item> <a href=#setting-up-to-pivot class=md-nav__link> Setting up to Pivot </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4 type=checkbox id=__nav_2_4_4> <label class=md-nav__link for=__nav_2_4_4> Privilege Escalation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Privilege Escalation" data-md-level=3> <label class=md-nav__title for=__nav_2_4_4> <span class="md-nav__icon md-icon"></span> Privilege Escalation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1 type=checkbox id=__nav_2_4_4_1> <label class=md-nav__link for=__nav_2_4_4_1> Windows PrivEsc <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Windows PrivEsc" data-md-level=4> <label class=md-nav__title for=__nav_2_4_4_1> <span class="md-nav__icon md-icon"></span> Windows PrivEsc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/tools/ class=md-nav__link> Useful Tools </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_2 type=checkbox id=__nav_2_4_4_1_2> <label class=md-nav__link for=__nav_2_4_4_1_2> Getting the Lay of the Land <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting the Lay of the Land" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_2> <span class="md-nav__icon md-icon"></span> Getting the Lay of the Land </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/gtlotl/ class=md-nav__link> Situational Awareness </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/init_enum/ class=md-nav__link> Initial Enumeration </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/comm_with_ps/ class=md-nav__link> Communication with Processes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_3 type=checkbox id=__nav_2_4_4_1_3> <label class=md-nav__link for=__nav_2_4_4_1_3> Windows User Privileges <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Windows User Privileges" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_3> <span class="md-nav__icon md-icon"></span> Windows User Privileges </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/seimpersonate_seassignprimarytoken/ class=md-nav__link> SeImpersonate and SeAssignPrimaryToken </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/sebugpriv/ class=md-nav__link> SeDebugPrivilege </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/setakeownershippriv/ class=md-nav__link> SeTakeOwnershipPrivilege </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_4 type=checkbox id=__nav_2_4_4_1_4> <label class=md-nav__link for=__nav_2_4_4_1_4> Windows Group Privileges <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Windows Group Privileges" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_4> <span class="md-nav__icon md-icon"></span> Windows Group Privileges </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/builtin_groups/ class=md-nav__link> Windows Built-in Groups </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/eventlog_readers/ class=md-nav__link> Event Log Readers </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/dnsadmins/ class=md-nav__link> DnsAdmins </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/hyperv_admins/ class=md-nav__link> Hyper-V Administrators </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/print_operators/ class=md-nav__link> Print Operators </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/server_operators/ class=md-nav__link> Server Operators </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_5 type=checkbox id=__nav_2_4_4_1_5> <label class=md-nav__link for=__nav_2_4_4_1_5> Attacking the OS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Attacking the OS" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_5> <span class="md-nav__icon md-icon"></span> Attacking the OS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/user_account_control/ class=md-nav__link> User Account Control </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/weak_permissions/ class=md-nav__link> Weak Permissions </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/kernel_exploits/ class=md-nav__link> Kernel Exploits </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/vulnerable_services/ class=md-nav__link> Vulnerable Services </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_6 type=checkbox id=__nav_2_4_4_1_6> <label class=md-nav__link for=__nav_2_4_4_1_6> Credential Theft <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Credential Theft" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_6> <span class="md-nav__icon md-icon"></span> Credential Theft </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/credential_hunting/ class=md-nav__link> Credential Hunting </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/other_files/ class=md-nav__link> Other Files </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/further_credential_theft/ class=md-nav__link> Further Credential Theft </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_7 type=checkbox id=__nav_2_4_4_1_7> <label class=md-nav__link for=__nav_2_4_4_1_7> Additional Techniques <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Additional Techniques" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_7> <span class="md-nav__icon md-icon"></span> Additional Techniques </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/interacting_with_users/ class=md-nav__link> Interacting with Users </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/miscellaneous_techniques/ class=md-nav__link> Miscellaneous Techniques </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4_1_8 type=checkbox id=__nav_2_4_4_1_8> <label class=md-nav__link for=__nav_2_4_4_1_8> EOL Systems <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="EOL Systems" data-md-level=5> <label class=md-nav__title for=__nav_2_4_4_1_8> <span class="md-nav__icon md-icon"></span> EOL Systems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../windows_privesc/windows_server/ class=md-nav__link> Windows Server </a> </li> <li class=md-nav__item> <a href=../../windows_privesc/windows_desktop/ class=md-nav__link> Windows Desktop </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_5 type=checkbox id=__nav_2_4_5> <label class=md-nav__link for=__nav_2_4_5> File Transfers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="File Transfers" data-md-level=3> <label class=md-nav__title for=__nav_2_4_5> <span class="md-nav__icon md-icon"></span> File Transfers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../file_transfers/methods/ class=md-nav__link> Methods </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_6 type=checkbox id=__nav_2_4_6> <label class=md-nav__link for=__nav_2_4_6> Networking <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Networking data-md-level=3> <label class=md-nav__title for=__nav_2_4_6> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../networking/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_7 type=checkbox id=__nav_2_4_7> <label class=md-nav__link for=__nav_2_4_7> Login Brute Forcing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Login Brute Forcing" data-md-level=3> <label class=md-nav__title for=__nav_2_4_7> <span class="md-nav__icon md-icon"></span> Login Brute Forcing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../login_brute_forcing/basic_http_auth_brute_forcing/ class=md-nav__link> Basic HTTP Auth Brute Forcing </a> </li> <li class=md-nav__item> <a href=../../login_brute_forcing/web_forms_brute_forcing/ class=md-nav__link> Web Forms Brute Forcing </a> </li> <li class=md-nav__item> <a href=../../login_brute_forcing/service_authentication/ class=md-nav__link> Service Authentication Attacks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_8 type=checkbox id=__nav_2_4_8> <label class=md-nav__link for=__nav_2_4_8> Atk Common Applications <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Atk Common Applications" data-md-level=3> <label class=md-nav__title for=__nav_2_4_8> <span class="md-nav__icon md-icon"></span> Atk Common Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../attacking_common_apps/setting_the_stage/ class=md-nav__link> Setting the Stage </a> </li> <li class=md-nav__item> <a href=../../attacking_common_apps/content_management_systems/ class=md-nav__link> Content Management Systems </a> </li> <li class=md-nav__item> <a href=../../attacking_common_apps/containers_software_dev/ class=md-nav__link> Servlet Containers/Software Development </a> </li> <li class=md-nav__item> <a href=../../attacking_common_apps/infra_network_monitoring_tools/ class=md-nav__link> Infrastructure/Network Monitoring Tools </a> </li> <li class=md-nav__item> <a href=../../attacking_common_apps/cs_config_mgmt/ class=md-nav__link> Customer Service Mgmt & Configuration Mgmt </a> </li> <li class=md-nav__item> <a href=../../attacking_common_apps/closing_out/ class=md-nav__link> Closing Out </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_9 type=checkbox id=__nav_2_4_9> <label class=md-nav__link for=__nav_2_4_9> Atk Web Applications <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Atk Web Applications" data-md-level=3> <label class=md-nav__title for=__nav_2_4_9> <span class="md-nav__icon md-icon"></span> Atk Web Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../attacking_web_applications/http_verb_tampering/ class=md-nav__link> HTTP Verb Tampering </a> </li> <li class=md-nav__item> <a href=../../attacking_web_applications/idor/ class=md-nav__link> Insecure Direct Object References </a> </li> <li class=md-nav__item> <a href=../../attacking_web_applications/xxe/ class=md-nav__link> XML External Entity (XXE) Injection </a> </li> <li class=md-nav__item> <a href=../../attacking_web_applications/sql_injection/ class=md-nav__link> SQLi </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_10 type=checkbox id=__nav_2_4_10> <label class=md-nav__link for=__nav_2_4_10> Server Side Atks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Server Side Atks" data-md-level=3> <label class=md-nav__title for=__nav_2_4_10> <span class="md-nav__icon md-icon"></span> Server Side Atks </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_10_1 type=checkbox id=__nav_2_4_10_1> <label class=md-nav__link for=__nav_2_4_10_1> SSRF <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SSRF data-md-level=4> <label class=md-nav__title for=__nav_2_4_10_1> <span class="md-nav__icon md-icon"></span> SSRF </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../server_side_attacks/ssrf/ class=md-nav__link> SSRF Example </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/blind_ssrf/ class=md-nav__link> Blind SSRF Example </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/time_based_ssrf/ class=md-nav__link> Time-Based SSRF </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_10_2 type=checkbox id=__nav_2_4_10_2> <label class=md-nav__link for=__nav_2_4_10_2> SSI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SSI data-md-level=4> <label class=md-nav__title for=__nav_2_4_10_2> <span class="md-nav__icon md-icon"></span> SSI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../server_side_attacks/ssi_overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/ssi_example/ class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_10_3 type=checkbox id=__nav_2_4_10_3> <label class=md-nav__link for=__nav_2_4_10_3> ESI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=ESI data-md-level=4> <label class=md-nav__title for=__nav_2_4_10_3> <span class="md-nav__icon md-icon"></span> ESI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../server_side_attacks/esi_overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_10_4 type=checkbox id=__nav_2_4_10_4> <label class=md-nav__link for=__nav_2_4_10_4> SSTI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SSTI data-md-level=4> <label class=md-nav__title for=__nav_2_4_10_4> <span class="md-nav__icon md-icon"></span> SSTI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../server_side_attacks/ssti_intro/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/ssti_example1/ class=md-nav__link> SSTI Example1 </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/ssti_example2/ class=md-nav__link> SSTI Example2 </a> </li> <li class=md-nav__item> <a href=../../server_side_attacks/ssti_example3/ class=md-nav__link> SSTI Example3 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_11 type=checkbox id=__nav_2_4_11> <label class=md-nav__link for=__nav_2_4_11> File Inclusion <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="File Inclusion" data-md-level=3> <label class=md-nav__title for=__nav_2_4_11> <span class="md-nav__icon md-icon"></span> File Inclusion </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../file_inclusion/intro/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_11_2 type=checkbox id=__nav_2_4_11_2> <label class=md-nav__link for=__nav_2_4_11_2> LFI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=LFI data-md-level=4> <label class=md-nav__title for=__nav_2_4_11_2> <span class="md-nav__icon md-icon"></span> LFI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../file_inclusion/lfi/ class=md-nav__link> LFI </a> </li> <li class=md-nav__item> <a href=../../file_inclusion/lfi_to_rce/ class=md-nav__link> LFI to RCE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_11_3 type=checkbox id=__nav_2_4_11_3> <label class=md-nav__link for=__nav_2_4_11_3> Other Techniques <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Other Techniques" data-md-level=4> <label class=md-nav__title for=__nav_2_4_11_3> <span class="md-nav__icon md-icon"></span> Other Techniques </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../file_inclusion/other_php_wrappers/ class=md-nav__link> PHP Wrappers </a> </li> <li class=md-nav__item> <a href=../../file_inclusion/remote_file_inclusion/ class=md-nav__link> RFI </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../file_inclusion/hardening_tips/ class=md-nav__link> Hardening Tips </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_12 type=checkbox id=__nav_2_4_12> <label class=md-nav__link for=__nav_2_4_12> Shells&Payloads <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Shells&amp;Payloads data-md-level=3> <label class=md-nav__title for=__nav_2_4_12> <span class="md-nav__icon md-icon"></span> Shells&Payloads </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../shells_payloads/msfvenom/ class=md-nav__link> MSFvenom </a> </li> <li class=md-nav__item> <a href=../../shells_payloads/windows_shells/ class=md-nav__link> Windows Shells </a> </li> <li class=md-nav__item> <a href=../../shells_payloads/unix_linux/ class=md-nav__link> NIX Shells </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_13 type=checkbox id=__nav_2_4_13> <label class=md-nav__link for=__nav_2_4_13> Tools <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tools data-md-level=3> <label class=md-nav__title for=__nav_2_4_13> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools/nmap/ class=md-nav__link> Nmap </a> </li> <li class=md-nav__item> <a href=../../tools/ffuf/ class=md-nav__link> Ffuf </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5> Blue Team <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Blue Team" data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Blue Team </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../file_analysis/useful_links/ class=md-nav__link> File Analysis </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_2 type=checkbox id=__nav_2_5_2> <label class=md-nav__link for=__nav_2_5_2> Network Traffic Analysis <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Network Traffic Analysis" data-md-level=3> <label class=md-nav__title for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> Network Traffic Analysis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../network_traffic_analysis/layers/ class=md-nav__link> Layers </a> </li> <li class=md-nav__item> <a href=../../network_traffic_analysis/analysis/ class=md-nav__link> Analysis </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_2_3 type=checkbox id=__nav_2_5_2_3> <label class=md-nav__link for=__nav_2_5_2_3> Tcpdump <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tcpdump data-md-level=4> <label class=md-nav__title for=__nav_2_5_2_3> <span class="md-nav__icon md-icon"></span> Tcpdump </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../network_traffic_analysis/tcpdump_fundamentals/ class=md-nav__link> Fundamentals </a> </li> <li class=md-nav__item> <a href=../../network_traffic_analysis/tcpdump_packet_filtering/ class=md-nav__link> Packet Filtering </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_2_4 type=checkbox id=__nav_2_5_2_4> <label class=md-nav__link for=__nav_2_5_2_4> Wireshark <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Wireshark data-md-level=4> <label class=md-nav__title for=__nav_2_5_2_4> <span class="md-nav__icon md-icon"></span> Wireshark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../network_traffic_analysis/wireshark_analysis/ class=md-nav__link> Analysis </a> </li> <li class=md-nav__item> <a href=../../network_traffic_analysis/wireshark_advanced_usage/ class=md-nav__link> Advanced Usage </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6 type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6> Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Resources data-md-level=2> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../useful_resources/links/ class=md-nav__link> Useful Links </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../blog/ >Blog</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2> 2022 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=2022 data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 2022 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/2022/lets_connect/ class=md-nav__link> Lets Connect </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ssh-local-port-forwarding class=md-nav__link> SSH Local Port Forwarding </a> </li> <li class=md-nav__item> <a href=#setting-up-to-pivot class=md-nav__link> Setting up to Pivot </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Starting Tunnels</h1> <p><code>Port forwarding</code> is a technique that allows us to redirect a communication request from one port to another. Port forwarding uses TCP as the primary communication layer to provide interactive communication for the forwarded port. However, different application layer protocols such as SSH or even <a href=https://en.wikipedia.org/wiki/SOCKS target=_blank rel="noopener nofollow">SOCKS</a> (non-application layer) can be used to encapsulate the forwarded traffic. This can be effective in bypassing firewalls and using existing services on your compromised host to pivot to other networks.</p> <hr> <h3 id=ssh-local-port-forwarding>SSH Local Port Forwarding<a class=headerlink href=#ssh-local-port-forwarding title="Permanent link">&para;</a></h3> <p><img alt src=https://academy.hackthebox.com/storage/modules/158/11.png></p> <p>We have our attack host (10.10.15.x) and a target Ubuntu server (10.129.x.x), which we have compromised. We will scan the target Ubuntu server using Nmap to search for open ports.</p> <p><strong>Scanning the Pivot Target</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>hrmns@htb[/htb]$ nmap -sT -p22,3306 10.129.202.64
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-24 12:12 EST
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>Nmap scan report for 10.129.202.64
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>Host is up (0.12s latency).
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>PORT     STATE  SERVICE
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>22/tcp   open   ssh
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>3306/tcp closed mysql
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>Nmap done: 1 IP address (1 host up) scanned in 0.68 seconds
</code></pre></div> <p>The Nmap output shows that the SSH port is open. To access the MySQL service, we can either SSH into the server and access MySQL from inside the Ubuntu server, or we can port forward it to our localhost on port 1234 and access it locally. A benefit of accessing it locally is if we want to execute a remote exploit on the MySQL service, we won't be able to do it without port forwarding. This is due to MySQL being hosted locally on the Ubuntu server on port 3306. So, we will use the below command to forward our local port (1234) over SSH to the Ubuntu server.</p> <p><strong>Executing the Local Port Forward</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>hrmns@htb[/htb]$ ssh -L 1234:localhost:3306 Ubuntu@10.129.202.64
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>ubuntu@10.129.202.64&#39;s password: 
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-91-generic x86_64)
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a> * Documentation:  https://help.ubuntu.com
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a> * Management:     https://landscape.canonical.com
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a> * Support:        https://ubuntu.com/advantage
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>  System information as of Thu 24 Feb 2022 05:23:20 PM UTC
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>  System load:             0.0
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>  Usage of /:              28.4% of 13.72GB
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>  Memory usage:            34%
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>  Swap usage:              0%
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>  Processes:               175
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>  Users logged in:         1
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>  IPv4 address for ens192: 10.129.202.64
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>  IPv6 address for ens192: dead:beef::250:56ff:feb9:52eb
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>  IPv4 address for ens224: 172.16.5.129
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a> * Super-optimized for small spaces - read how we shrank the memory
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>   footprint of MicroK8s to make it the smallest full K8s around.
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>   https://ubuntu.com/blog/microk8s-memory-optimisation
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>66 updates can be applied immediately.
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>45 of these updates are standard security updates.
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>To see these additional updates run: apt list --upgradable
</code></pre></div> <p>The <code>-L</code> command tells the SSH client to request the SSH server to forward all the data we send via the port <code>1234</code> to <code>localhost:3306</code> on the Ubuntu server. By doing this, we should be able to access the MySQL service locally on port 1234. We can use Netstat or Nmap to query our local host on 1234 port to verify whether the MySQL service was forwarded.</p> <p><strong>Confirming Port Forward with Netstat</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>hrmns@htb[/htb]$ netstat -antp | grep 1234
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>(Not all processes could be identified, non-owned process info
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a> will not be shown, you would have to be root to see it all.)
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>tcp        0      0 127.0.0.1:1234          0.0.0.0:*               LISTEN      4034/ssh            
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>tcp6       0      0 ::1:1234                :::*                    LISTEN      4034/ssh     
</code></pre></div> <p><strong>Confirming Port Forward with Nmap</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>hrmns@htb[/htb]$ nmap -v -sV -p1234 localhost
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-24 12:18 EST
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>NSE: Loaded 45 scripts for scanning.
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>Initiating Ping Scan at 12:18
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>Scanning localhost (127.0.0.1) [2 ports]
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>Completed Ping Scan at 12:18, 0.01s elapsed (1 total hosts)
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>Initiating Connect Scan at 12:18
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>Scanning localhost (127.0.0.1) [1 port]
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>Discovered open port 1234/tcp on 127.0.0.1
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>Completed Connect Scan at 12:18, 0.01s elapsed (1 total ports)
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>Initiating Service scan at 12:18
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>Scanning 1 service on localhost (127.0.0.1)
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>Completed Service scan at 12:18, 0.12s elapsed (1 service on 1 host)
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>NSE: Script scanning 127.0.0.1.
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>Initiating NSE at 12:18
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>Completed NSE at 12:18, 0.01s elapsed
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>Initiating NSE at 12:18
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>Completed NSE at 12:18, 0.00s elapsed
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>Nmap scan report for localhost (127.0.0.1)
<a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a>Host is up (0.0080s latency).
<a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>Other addresses for localhost (not scanned): ::1
<a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>
<a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>PORT     STATE SERVICE VERSION
<a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>1234/tcp open  mysql   MySQL 8.0.28-0ubuntu0.20.04.3
<a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>
<a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>Read data files from: /usr/bin/../share/nmap
<a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
<a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a>Nmap done: 1 IP address (1 host up) scanned in 1.18 seconds
</code></pre></div></p> <p>If we want to forward multiple ports from the Ubuntu server to your localhost, you can do so by including the l<code>ocal port:server:port</code> argument to your ssh command. For example, the below command forwards the apache web server's port 80 to your attack host's local port on <code>8080</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>hrmns@htb[/htb]$ ssh -L 1234:localhost:3306 8080:localhost:80 ubuntu@10.129.202.64
</code></pre></div> <hr> <h3 id=setting-up-to-pivot>Setting up to Pivot<a class=headerlink href=#setting-up-to-pivot title="Permanent link">&para;</a></h3> <p>Type ifconfig on the Ubuntu host, you will find that this server has multiple NICs:</p> <ul> <li>One connected to our attack host (<code>ens192</code>)</li> <li>One communicating to other hosts within a different network (<code>ens224</code>)</li> <li>The loopback interface (<code>lo</code>).</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>ubuntu@WEB01:~$ ifconfig 
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>ens192: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>        inet 10.129.202.64  netmask 255.255.0.0  broadcast 10.129.255.255
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>        inet6 dead:beef::250:56ff:feb9:52eb  prefixlen 64  scopeid 0x0&lt;global&gt;
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>        inet6 fe80::250:56ff:feb9:52eb  prefixlen 64  scopeid 0x20&lt;link&gt;
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>        ether 00:50:56:b9:52:eb  txqueuelen 1000  (Ethernet)
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>        RX packets 35571  bytes 177919049 (177.9 MB)
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>        RX errors 0  dropped 0  overruns 0  frame 0
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>        TX packets 10452  bytes 1474767 (1.4 MB)
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>ens224: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>        inet 172.16.5.129  netmask 255.255.254.0  broadcast 172.16.5.255
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>        inet6 fe80::250:56ff:feb9:a9aa  prefixlen 64  scopeid 0x20&lt;link&gt;
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>        ether 00:50:56:b9:a9:aa  txqueuelen 1000  (Ethernet)
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>        RX packets 8251  bytes 1125190 (1.1 MB)
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>        RX errors 0  dropped 40  overruns 0  frame 0
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>        TX packets 1538  bytes 123584 (123.5 KB)
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
<a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>        inet 127.0.0.1  netmask 255.0.0.0
<a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
<a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a>        loop  txqueuelen 1000  (Local Loopback)
<a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a>        RX packets 270  bytes 22432 (22.4 KB)
<a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a>        RX errors 0  dropped 0  overruns 0  frame 0
<a id=__codelineno-5-28 name=__codelineno-5-28 href=#__codelineno-5-28></a>        TX packets 270  bytes 22432 (22.4 KB)
<a id=__codelineno-5-29 name=__codelineno-5-29 href=#__codelineno-5-29></a>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre></div> <p>Unlike the previous scenario where we knew which port to access, in our current scenario, we don't know which services lie on the other side of the network. So, we can scan smaller ranges of IPs on the network (<code>172.16.5.1-200</code>) network or the entire subnet (<code>172.16.5.0/23</code>). We cannot perform this scan directly from our attack host because it does not have routes to the <code>172.16.5.0/23</code> network. To do this, we will have to perform <code>dynamic port forwarding</code> and <code>pivot</code> our network packets via the Ubuntu server. We can do this by starting a <code>SOCKS listener</code> on our <code>local host</code> (personal attack host or Pwnbox) and then configure SSH to forward that traffic via SSH to the network (172.16.5.0/23) after connecting to the target host.</p> <p>This is called <code>SSH tunneling</code> over <code>SOCKS proxy</code>. SOCKS stands for <code>Socket Secure</code>, a protocol that helps communicate with servers where you have firewall restrictions in place. Unlike most cases where you would initiate a connection to connect to a service, in the case of SOCKS, the initial traffic is generated by a SOCKS client, which connects to the SOCKS server controlled by the user who wants to access a service on the client-side. Once the connection is established, network traffic can be routed through the SOCKS server on behalf of the connected client.</p> <p>This technique is often used to circumvent the restrictions put in place by firewalls, and allow an external entity to bypass the firewall and access a service within the firewalled environment. One more benefit of using SOCKS proxy for pivoting and forwarding data is that SOCKS proxies can pivot via creating a route to an external server from <code>NAT networks</code>. SOCKS proxies are currently of two types: <code>SOCKS4</code> and <code>SOCKS5</code>. SOCKS4 doesn't provide any authentication and UDP support, whereas SOCKS5 does provide that. Let's take an example of the below image where we have a NAT'd network of 172.16.5.0/23, which we cannot access directly.</p> <p><img alt src=https://academy.hackthebox.com/storage/modules/158/22.png></p> <p>In the above image, the attack host starts the SSH client and requests the SSH server to allow it to send some TCP data over the ssh socket. The SSH server responds with an acknowledgment, and the SSH client then starts listening on <code>localhost:9050</code>. Whatever data you send here will be broadcasted to the entire network (172.16.5.0/23) over SSH. We can use the below command to perform this dynamic port forwarding.</p> <p><strong>Enabling Dynamic Port Forwarding with SSH</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>hrmns@htb[/htb]$ ssh -D 9050 ubuntu@10.129.202.64
</code></pre></div></p> <p>The <code>-D</code> argument requests the SSH server to enable dynamic port forwarding. Once we have this enabled, we will require a tool that can route any tool's packets over the port <code>9050</code>. We can do this using the tool <code>proxychains</code>, which is capable of redirecting TCP connections through TOR, SOCKS, and HTTP/HTTPS proxy servers and also allows us to chain multiple proxy servers together. Using proxychains, we can hide the IP address of the requesting host as well since the receiving host will only see the IP of the pivot host. Proxychains is often used to force an application's <code>TCP traffic</code> to go through hosted proxies like <code>SOCKS4</code>/<code>SOCKS5</code>, <code>TOR</code>, or <code>HTTP</code>/<code>HTTPS</code> proxies.</p> <p>To inform proxychains that we must use port 9050, we must modify the proxychains configuration file located at <code>/etc/proxychains.conf</code>. We can add <code>socks4 127.0.0.1 9050</code> to the last line if it is not already there.</p> <p><strong>Checking /etc/proxychains.conf</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>hrmns@htb[/htb]$ tail -4 /etc/proxychains.conf
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a># meanwile
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a># defaults set to &quot;tor&quot;
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>socks4  127.0.0.1 9050
</code></pre></div></p> <p>Now when you start Nmap with proxychains, it will route all the packets of Nmap to the local port 9050, where our SSH client is listening, which will forward all the packets over SSH to the 172.16.5.0/23 network.</p> <p><strong>Using Nmap with Proxychains</strong>#</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>hrmns@htb[/htb]$ proxychains nmap -v -sn 172.16.5.1-200
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>ProxyChains-3.1 (http://proxychains.sf.net)
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-24 12:30 EST
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>Initiating Ping Scan at 12:30
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>Scanning 10 hosts [2 ports/host]
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.2:80-&lt;--timeout
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.5:80-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.6:80-&lt;--timeout
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>&lt;SNIP&gt;
</code></pre></div> <p>This part of packing all your Nmap data using proxychains and forwarding it to a remote server is called <code>SOCKS tunneling</code>. One more important note to remember here is that we can only perform a <code>full TCP connect scan</code> over proxychains. The reason for this is that proxychains cannot understand partial packets. If you send partial packets like half connect scans, it will return incorrect results. We also need to make sure we are aware of the fact that <code>host-alive</code> checks may not work against Windows targets because the Windows Defender firewall blocks ICMP requests (traditional pings) by default.</p> <p><strong>Enumerating the Windows Target through Proxychains</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>hrmns@htb[/htb]$ proxychains nmap -v -Pn -sT 172.16.5.19
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>ProxyChains-3.1 (http://proxychains.sf.net)
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>Host discovery disabled (-Pn). All addresses will be marked &#39;up&#39; and scan times may be slower.
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-24 12:33 EST
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>Initiating Parallel DNS resolution of 1 host. at 12:33
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>Completed Parallel DNS resolution of 1 host. at 12:33, 0.15s elapsed
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>Initiating Connect Scan at 12:33
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>Scanning 172.16.5.19 [1000 ports]
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:1720-&lt;--timeout
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19-&lt;--timeout
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:587-&lt;--timeout
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:445-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>Discovered open port 445/tcp on 172.16.5.19
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:8080-&lt;--timeout
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:23-&lt;--timeout
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:135-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>Discovered open port 135/tcp on 172.16.5.19
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:110-&lt;--timeout
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:21-&lt;--timeout
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:554-&lt;--timeout
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-1172.16.5.19:25-&lt;--timeout
<a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:5900-&lt;--timeout
<a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:1025-&lt;--timeout
<a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:143-&lt;--timeout
<a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:199-&lt;--timeout
<a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:993-&lt;--timeout
<a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:995-&lt;--timeout
<a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:3389-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a>Discovered open port 3389/tcp on 172.16.5.19
<a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:443-&lt;--timeout
<a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:80-&lt;--timeout
<a id=__codelineno-9-33 name=__codelineno-9-33 href=#__codelineno-9-33></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:113-&lt;--timeout
<a id=__codelineno-9-34 name=__codelineno-9-34 href=#__codelineno-9-34></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:8888-&lt;--timeout
<a id=__codelineno-9-35 name=__codelineno-9-35 href=#__codelineno-9-35></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:139-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-9-36 name=__codelineno-9-36 href=#__codelineno-9-36></a>Discovered open port 139/tcp on 172.16.5.19
</code></pre></div> <p>The Nmap scan shows several open ports, one of which is <code>RDP port</code> (3389). Similar to the Nmap scan, we can also pivot <code>msfconsole</code> via proxychains to perform vulnerable RDP scans using Metasploit auxiliary modules. We can start msfconsole with proxychains.</p> <p><strong>Using Metasploit with Proxychains</strong></p> <p>We can also open Metasploit using proxychains and send all associated traffic through the proxy we have established.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>hrmns@htb[/htb]$ proxychains msfconsole
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>ProxyChains-3.1 (http://proxychains.sf.net)
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>     .~+P``````-o+:.                                      -o+:.
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>.+oooyysyyssyyssyddh++os-`````                        ```````````````          `
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>+++++++++++++++++++++++sydhyoyso/:.````...`...-///::+ohhyosyyosyy/+om++:ooo///o
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>++++///////~~~~///////++++++++++++++++ooyysoyysosso+++++++++++++++++++///oossosy
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>--.`                 .-.-...-////+++++++++++++++////////~~//////++++++++++++///
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>                                `...............`              `...-/////...`
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>                                  .::::::::::-.                     .::::::-
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>                                .hmMMMMMMMMMMNddds\...//M\\.../hddddmMMMMMMNo
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>                                 :Nm-/NMMMMMMMMMMMMM$$NMMMMm&amp;&amp;MMMMMMMMMMMMMMy
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>                                 .sm/`-yMMMMMMMMMMMM$$MMMMMN&amp;&amp;MMMMMMMMMMMMMh`
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>                                  -Nd`  :MMMMMMMMMMM$$MMMMMN&amp;&amp;MMMMMMMMMMMMh`
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>                                   -Nh` .yMMMMMMMMMM$$MMMMMN&amp;&amp;MMMMMMMMMMMm/
<a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>    `oo/``-hd:  ``                 .sNd  :MMMMMMMMMM$$MMMMMN&amp;&amp;MMMMMMMMMMm/
<a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>      .yNmMMh//+syysso-``````       -mh` :MMMMMMMMMM$$MMMMMN&amp;&amp;MMMMMMMMMMd
<a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>    .shMMMMN//dmNMMMMMMMMMMMMs`     `:```-o++++oooo+:/ooooo+:+o+++oooo++/
<a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>    `///omh//dMMMMMMMMMMMMMMMN/:::::/+ooso--/ydh//+s+/ossssso:--syN///os:
<a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a>          /MMMMMMMMMMMMMMMMMMd.     `/++-.-yy/...osydh/-+oo:-`o//...oyodh+
<a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a>          -hMMmssddd+:dMMmNMMh.     `.-=mmk.//^^^\\.^^`:++:^^o://^^^\\`::
<a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a>          .sMMmo.    -dMd--:mN/`           ||--X--||          ||--X--||
<a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a>........../yddy/:...+hmo-...hdd:............\\=v=//............\\=v=//.........
<a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>================================================================================
<a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a>=====================+--------------------------------+=========================
<a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a>=====================| Session one died of dysentery. |=========================
<a id=__codelineno-10-31 name=__codelineno-10-31 href=#__codelineno-10-31></a>=====================+--------------------------------+=========================
<a id=__codelineno-10-32 name=__codelineno-10-32 href=#__codelineno-10-32></a>================================================================================
<a id=__codelineno-10-33 name=__codelineno-10-33 href=#__codelineno-10-33></a>
<a id=__codelineno-10-34 name=__codelineno-10-34 href=#__codelineno-10-34></a>                     Press ENTER to size up the situation
<a id=__codelineno-10-35 name=__codelineno-10-35 href=#__codelineno-10-35></a>
<a id=__codelineno-10-36 name=__codelineno-10-36 href=#__codelineno-10-36></a>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-37 name=__codelineno-10-37 href=#__codelineno-10-37></a>%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Date: April 25, 1848 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-38 name=__codelineno-10-38 href=#__codelineno-10-38></a>%%%%%%%%%%%%%%%%%%%%%%%%%% Weather: It&#39;s always cool in the lab %%%%%%%%%%%%%%%%
<a id=__codelineno-10-39 name=__codelineno-10-39 href=#__codelineno-10-39></a>%%%%%%%%%%%%%%%%%%%%%%%%%%% Health: Overweight %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-40 name=__codelineno-10-40 href=#__codelineno-10-40></a>%%%%%%%%%%%%%%%%%%%%%%%%% Caffeine: 12975 mg %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-41 name=__codelineno-10-41 href=#__codelineno-10-41></a>%%%%%%%%%%%%%%%%%%%%%%%%%%% Hacked: All the things %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-42 name=__codelineno-10-42 href=#__codelineno-10-42></a>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
<a id=__codelineno-10-43 name=__codelineno-10-43 href=#__codelineno-10-43></a>
<a id=__codelineno-10-44 name=__codelineno-10-44 href=#__codelineno-10-44></a>                        Press SPACE BAR to continue
<a id=__codelineno-10-45 name=__codelineno-10-45 href=#__codelineno-10-45></a>
<a id=__codelineno-10-46 name=__codelineno-10-46 href=#__codelineno-10-46></a>
<a id=__codelineno-10-47 name=__codelineno-10-47 href=#__codelineno-10-47></a>
<a id=__codelineno-10-48 name=__codelineno-10-48 href=#__codelineno-10-48></a>       =[ metasploit v6.1.27-dev                          ]
<a id=__codelineno-10-49 name=__codelineno-10-49 href=#__codelineno-10-49></a>+ -- --=[ 2196 exploits - 1162 auxiliary - 400 post       ]
<a id=__codelineno-10-50 name=__codelineno-10-50 href=#__codelineno-10-50></a>+ -- --=[ 596 payloads - 45 encoders - 10 nops            ]
<a id=__codelineno-10-51 name=__codelineno-10-51 href=#__codelineno-10-51></a>+ -- --=[ 9 evasion                                       ]
<a id=__codelineno-10-52 name=__codelineno-10-52 href=#__codelineno-10-52></a>
<a id=__codelineno-10-53 name=__codelineno-10-53 href=#__codelineno-10-53></a>Metasploit tip: Adapter names can be used for IP params 
<a id=__codelineno-10-54 name=__codelineno-10-54 href=#__codelineno-10-54></a>set LHOST eth0
<a id=__codelineno-10-55 name=__codelineno-10-55 href=#__codelineno-10-55></a>
<a id=__codelineno-10-56 name=__codelineno-10-56 href=#__codelineno-10-56></a>msf6 &gt; 
</code></pre></div> <p>Use the <code>rdp_scanner</code> auxiliary module to check if the host on the internal network is listening on 3389.</p> <p><strong>Using rdp_scanner Module</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>msf6 &gt; search rdp_scanner
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>Matching Modules
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>================
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>   #  Name                               Disclosure Date  Rank    Check  Description
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>   -  ----                               ---------------  ----    -----  -----------
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>   0  auxiliary/scanner/rdp/rdp_scanner                   normal  No     Identify endpoints speaking the Remote Desktop Protocol (RDP)
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>Interact with a module by name or index. For example info 0, use 0 or use auxiliary/scanner/rdp/rdp_scanner
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>msf6 &gt; use 0
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>msf6 auxiliary(scanner/rdp/rdp_scanner) &gt; set rhosts 172.16.5.19
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>rhosts =&gt; 172.16.5.19
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>msf6 auxiliary(scanner/rdp/rdp_scanner) &gt; run
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:3389-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:3389-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-172.16.5.19:3389-&lt;&gt;&lt;&gt;-OK
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
<a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>[*] 172.16.5.19:3389      - Detected RDP on 172.16.5.19:3389      (name:DC01) (domain:DC01) (domain_fqdn:DC01) (server_fqdn:DC01) (os_version:10.0.17763) (Requires NLA: No)
<a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>[*] 172.16.5.19:3389      - Scanned 1 of 1 hosts (100% complete)
<a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>[*] Auxiliary module execution completed
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../basics/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Basics" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Basics </div> </div> </a> <a href=../../windows_privesc/tools/ class="md-footer__link md-footer__link--next" aria-label="Next: Useful Tools" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Useful Tools </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021 - 2022 dh </div> </div> <div class=md-social> <a href=https://github.com/hrmnsio target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/dhrmns target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.361d90f1.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.289a2a4b.min.js></script> </body> </html>